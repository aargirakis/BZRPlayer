/*
 backend_uade.js: UADE plugin for use in ScriptNodePlayer.

   version 1.2
   copyright (C) 2018-2023 Juergen Wothke


 Known limitation: seeking is not supported by UADE

 LICENSE

 This library is free software; you can redistribute it and/or modify it
 under the terms of the GNU General Public License as published by
 the Free Software Foundation; either version 2.1 of the License, or (at
 your option) any later version. This library is distributed in the hope
 that it will be useful, but WITHOUT ANY WARRANTY; without even the implied
 warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
 GNU General Public License for more details.

 You should have received a copy of the GNU General Public
 License along with this library; if not, write to the Free Software
 Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301 USA
*/

window.spp_backend_state_UADE={locateFile:function(e,t){return void 0===window.WASM_SEARCH_PATH?e:window.WASM_SEARCH_PATH+e},print:function(e){setTimeout(console.log.bind(console,e))},notReady:!0,adapterCallback:function(){}},window.spp_backend_state_UADE.onRuntimeInitialized=function(){this.notReady=!1,this.adapterCallback()}.bind(window.spp_backend_state_UADE);var backend_UADE=function(Module){var d;function aa(e,t){return e.match("^"+t)==t}d||(d=void 0!==Module?Module:{});var ba={},k;for(k in d)d.hasOwnProperty(k)&&(ba[k]=d[k]);d.arguments=[],d.thisProgram="./this.program",d.quit=function(e,t){throw t},d.preRun=[],d.postRun=[];var ca=!1,l=!1,m=!1,da=!1;if(ca="object"==typeof window,l="function"==typeof importScripts,m="object"==typeof process&&"function"==typeof require&&!ca&&!l,da=!ca&&!m&&!l,d.ENVIRONMENT)throw Error("Module.ENVIRONMENT has been deprecated. To force the environment, use the ENVIRONMENT compile-time option (for example, -s ENVIRONMENT=web or -s ENVIRONMENT=node)");assert(void 0===d.memoryInitializerPrefixURL,"Module.memoryInitializerPrefixURL option was removed, use Module.locateFile instead"),assert(void 0===d.pthreadMainPrefixURL,"Module.pthreadMainPrefixURL option was removed, use Module.locateFile instead"),assert(void 0===d.cdInitializerPrefixURL,"Module.cdInitializerPrefixURL option was removed, use Module.locateFile instead"),assert(void 0===d.filePackagePrefixURL,"Module.filePackagePrefixURL option was removed, use Module.locateFile instead");var p="",fa,ha;function ea(e){return d.locateFile?d.locateFile(e,p):p+e}if(m)p=__dirname+"/",d.read=function(e,t){return fa||(fa=require("fs")),ha||(ha=require("path")),e=ha.normalize(e),e=fa.readFileSync(e),t?e:e.toString()},d.readBinary=function(e){return(e=d.read(e,!0)).buffer||(e=new Uint8Array(e)),assert(e.buffer),e},1<process.argv.length&&(d.thisProgram=process.argv[1].replace(/\\/g,"/")),d.arguments=process.argv.slice(2),"undefined"!=typeof module&&(module.exports=d),process.on("uncaughtException",(function(e){if(!(e instanceof ia))throw e})),process.on("unhandledRejection",q),d.quit=function(e){process.exit(e)},d.inspect=function(){return"[Emscripten Module object]"};else if(da)"undefined"!=typeof read&&(d.read=function(e){return read(e)}),d.readBinary=function(e){return"function"==typeof readbuffer?new Uint8Array(readbuffer(e)):(assert("object"==typeof(e=read(e,"binary"))),e)},"undefined"!=typeof scriptArgs?d.arguments=scriptArgs:void 0!==arguments&&(d.arguments=arguments),"function"==typeof quit&&(d.quit=function(e){quit(e)});else{if(!ca&&!l)throw Error("environment detection error");l?p=self.location.href:document.currentScript&&(p=document.currentScript.src),p=0!==p.indexOf("blob:")?p.substr(0,p.lastIndexOf("/")+1):"",d.read=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},l&&(d.readBinary=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),d.readAsync=function(e,t,n){var r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType="arraybuffer",r.onload=function(){200==r.status||0==r.status&&r.response?t(r.response):n()},r.onerror=n,r.send(null)},d.setWindowTitle=function(e){document.title=e}}var ja=d.print||("undefined"!=typeof console?console.log.bind(console):"undefined"!=typeof print?print:null),r=d.printErr||("undefined"!=typeof printErr?printErr:"undefined"!=typeof console&&console.warn.bind(console)||ja);for(k in ba)ba.hasOwnProperty(k)&&(d[k]=ba[k]);function na(e){assert(!oa);var n=t;return assert((t=t+e+15&-16)<v,"not enough memory for static allocation - increase TOTAL_MEMORY"),n}function pa(e){assert(w);var t=y[w>>2];return e=t+e+15&-16,y[w>>2]=e,(e=e>=v)&&(qa(),e=!0),e?(y[w>>2]=t,0):t}function ra(e){var t;return t||(t=16),Math.ceil(e/t)*t}function sa(e){ta||(ta={}),ta[e]||(ta[e]=1,r(e))}ba=void 0,ka=la=ma=function(){q("cannot use the stack before compiled code is ready to run, and has provided stack access")};var ta,ua={"f64-rem":function(e,t){return e%t},debugger:function(){}},wa=!1;function assert(e,t){e||q("Assertion failed: "+t)}var ya={stackSave:function(){ka()},stackRestore:function(){la()},arrayToC:function(e){var t=ma(e.length);return assert(0<=e.length,"writeArrayToMemory array must have a length (should be an array or typed array)"),A.set(e,t),t},stringToC:function(e){var t=0;if(null!=e&&0!==e){var n=1+(e.length<<2),r=t=ma(n);assert("number"==typeof n,"stringToUTF8(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!"),xa(e,B,r,n)}return t}},za={string:ya.stringToC,array:ya.arrayToC};function Aa(e,t){if("number"==typeof e)var n=!0,r=e;else n=!1,r=e.length;if(t=4==t?a:["function"==typeof Ba?Ba:na,ma,na,pa][void 0===t?2:t](Math.max(r,1)),n){var a=t;for(assert(0==(3&t)),e=t+(-4&r);a<e;a+=4)y[a>>2]=0;for(e=t+r;a<e;)A[a++>>0]=0;return t}return e.subarray||e.slice?B.set(e,t):B.set(new Uint8Array(e),t),t}function Ca(e){return oa?C?Ba(e):pa(e):na(e)}function D(e,t){if(0===t||!e)return"";for(var n,r=0,a=0;(assert(e+a<v),r|=n=B[e+a>>0],0!=n||t)&&(a++,!t||a!=t););if(t||(t=a),n="",128>r){for(;0<t;)r=String.fromCharCode.apply(String,B.subarray(e,e+Math.min(t,1024))),n=n?n+r:r,e+=1024,t-=1024;return n}return Da(e)}var Ea="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0,buffer,A,B,Ia,y,Ja,Ka,La,Na,t,oa,Oa,Pa,F,Qa,w;function Fa(e,t){for(var n=t;e[n];)++n;if(16<n-t&&e.subarray&&Ea)return Ea.decode(e.subarray(t,n));for(n="";;){var r=e[t++];if(!r)return n;if(128&r){var a=63&e[t++];if(192==(224&r))n+=String.fromCharCode((31&r)<<6|a);else{var i=63&e[t++];if(224==(240&r))r=(15&r)<<12|a<<6|i;else{var o=63&e[t++];if(240==(248&r))r=(7&r)<<18|a<<12|i<<6|o;else{var s=63&e[t++];if(248==(252&r))r=(3&r)<<24|a<<18|i<<12|o<<6|s;else r=(1&r)<<30|a<<24|i<<18|o<<12|s<<6|63&e[t++]}}65536>r?n+=String.fromCharCode(r):(r-=65536,n+=String.fromCharCode(55296|r>>10,56320|1023&r))}}else n+=String.fromCharCode(r)}}function Da(e){return Fa(B,e)}function xa(e,t,n,r){if(!(0<r))return 0;var a=n;r=n+r-1;for(var i=0;i<e.length;++i){var o=e.charCodeAt(i);if(55296<=o&&57343>=o)o=65536+((1023&o)<<10)|1023&e.charCodeAt(++i);if(127>=o){if(n>=r)break;t[n++]=o}else{if(2047>=o){if(n+1>=r)break;t[n++]=192|o>>6}else{if(65535>=o){if(n+2>=r)break;t[n++]=224|o>>12}else{if(2097151>=o){if(n+3>=r)break;t[n++]=240|o>>18}else{if(67108863>=o){if(n+4>=r)break;t[n++]=248|o>>24}else{if(n+5>=r)break;t[n++]=252|o>>30,t[n++]=128|o>>24&63}t[n++]=128|o>>18&63}t[n++]=128|o>>12&63}t[n++]=128|o>>6&63}t[n++]=128|63&o}}return t[n]=0,n-a}function Ga(e){return e.replace(/__Z[\w\d_]+/g,(function(e){return sa("warning: build with  -s DEMANGLE_SUPPORT=1  to link in libcxxabi demangling"),e==e?e:e+" ["+e+"]"}))}function Ha(){e:{var e=Error();if(!e.stack){try{throw Error(0)}catch(t){e=t}if(!e.stack){e="(no stack trace available)";break e}}e=e.stack.toString()}return d.extraStackTrace&&(e+="\n"+d.extraStackTrace()),Ga(e)}function Ma(){d.HEAP8=A=new Int8Array(buffer),d.HEAP16=Ia=new Int16Array(buffer),d.HEAP32=y=new Int32Array(buffer),d.HEAPU8=B=new Uint8Array(buffer),d.HEAPU16=new Uint16Array(buffer),d.HEAPU32=Ja=new Uint32Array(buffer),d.HEAPF32=Ka=new Float32Array(buffer),d.HEAPF64=La=new Float64Array(buffer)}function Ra(){if(34821223==Ja[(F>>2)-1]&&2310721022==Ja[(F>>2)-2]||q("Stack overflow! Stack cookie has been overwritten, expected hex dwords 0x89BACDFE and 0x02135467, but received 0x"+Ja[(F>>2)-2].toString(16)+" "+Ja[(F>>2)-1].toString(16)),1668509029!==y[0])throw"Runtime error: The application has corrupted its heap memory area (address zero)!"}function qa(){q("Cannot enlarge memory arrays. Either (1) compile with  -s TOTAL_MEMORY=X  with X higher than the current value "+v+", (2) compile with  -s ALLOW_MEMORY_GROWTH=1  which allows increasing the size at runtime, or (3) if you want malloc to return NULL (0) instead of this abort, compile with  -s ABORTING_MALLOC=0 ")}"undefined"!=typeof TextDecoder&&new TextDecoder("utf-16le"),Na=t=Oa=Pa=F=Qa=w=0,oa=!1;var Sa=d.TOTAL_STACK||5242880,v=d.TOTAL_MEMORY||33554432;if(v<Sa&&r("TOTAL_MEMORY should be larger than TOTAL_STACK, was "+v+"! (TOTAL_STACK="+Sa+")"),assert("undefined"!=typeof Int32Array&&"undefined"!=typeof Float64Array&&void 0!==Int32Array.prototype.subarray&&void 0!==Int32Array.prototype.set,"JS engine does not provide full typed array support"),d.buffer?(buffer=d.buffer,assert(buffer.byteLength===v,"provided buffer should be "+v+" bytes, but it is "+buffer.byteLength)):("object"==typeof WebAssembly&&"function"==typeof WebAssembly.Memory?(assert(0==v%65536),d.wasmMemory=new WebAssembly.Memory({initial:v/65536,maximum:v/65536}),buffer=d.wasmMemory.buffer):buffer=new ArrayBuffer(v),assert(buffer.byteLength===v),d.buffer=buffer),Ma(),y[0]=1668509029,Ia[1]=25459,115!==B[2]||99!==B[3])throw"Runtime error: expected the system to be little-endian!";function Ta(e){for(;0<e.length;){var t=e.shift();if("function"==typeof t)t();else{var n=t.oa;"number"==typeof n?void 0===t.X?d.dynCall_v(n):d.dynCall_vi(n,t.X):n(void 0===t.X?null:t.X)}}}var Ua=[],Va=[],Wa=[],Xa=[],Ya=[],C=!1,G=!1;function Za(){var e=d.preRun.shift();Ua.unshift(e)}assert(Math.imul&&Math.fround&&Math.clz32&&Math.trunc,"this is a legacy browser, build with LEGACY_VM_SUPPORT");var $a=0,ab=null,bb=null,cb={};function db(e){for(var t=e;cb[e];)e=t+Math.random();return e}function eb(e){$a++,d.monitorRunDependencies&&d.monitorRunDependencies($a),e?(assert(!cb[e]),cb[e]=1,null===ab&&"undefined"!=typeof setInterval&&(ab=setInterval((function(){if(wa)clearInterval(ab),ab=null;else{var e,t=!1;for(e in cb)t||(t=!0,r("still waiting on run dependencies:")),r("dependency: "+e);t&&r("(end of list)")}}),1e4))):r("warning: run dependency added without ID")}function fb(e){$a--,d.monitorRunDependencies&&d.monitorRunDependencies($a),e?(assert(cb[e]),delete cb[e]):r("warning: run dependency removed without ID"),0==$a&&(null!==ab&&(clearInterval(ab),ab=null),bb&&(e=bb,bb=null,e()))}function gb(e){return String.prototype.startsWith?e.startsWith("data:application/octet-stream;base64,"):0===e.indexOf("data:application/octet-stream;base64,")}d.preloadedImages={},d.preloadedAudios={},function(){function e(){try{if(d.wasmBinary)return new Uint8Array(d.wasmBinary);if(d.readBinary)return d.readBinary(i);throw"both async and sync fetching of the wasm failed"}catch(e){q(e)}}function t(){return d.wasmBinary||!ca&&!l||"function"!=typeof fetch?new Promise((function(t){t(e())})):fetch(i,{credentials:"same-origin"}).then((function(e){if(!e.ok)throw"failed to load wasm binary file at '"+i+"'";return e.arrayBuffer()})).catch((function(){return e()}))}function n(e){function n(e){if((u=e.exports).memory){e=u.memory;var t=d.buffer;e.byteLength<t.byteLength&&r("the new buffer in mergeMemory is smaller than the previous one. in native wasm, we should grow memory here"),t=new Int8Array(t),new Int8Array(e).set(t),d.buffer=buffer=e,Ma()}d.asm=u,d.usingWasm=!0,fb("wasm-instantiate")}function a(e){assert(d===c,"the Module object should not be replaced during async compilation - perhaps the order of HTML elements is wrong?"),c=null,n(e.instance)}function o(e){t().then((function(e){return WebAssembly.instantiate(e,s)})).then(e,(function(e){r("failed to asynchronously prepare wasm: "+e),q(e)}))}if("object"!=typeof WebAssembly)return q("No WebAssembly support found. Build with -s WASM=0 to target JavaScript instead."),r("no native wasm support detected"),!1;if(!(d.wasmMemory instanceof WebAssembly.Memory))return r("no native wasm Memory in use"),!1;if(e.memory=d.wasmMemory,s.global={NaN:NaN,Infinity:1/0},s["global.Math"]=Math,s.env=e,eb("wasm-instantiate"),d.instantiateWasm)try{return d.instantiateWasm(s,n)}catch(e){return r("Module.instantiateWasm callback failed with error: "+e),!1}var c=d;return d.wasmBinary||"function"!=typeof WebAssembly.instantiateStreaming||gb(i)||"function"!=typeof fetch?o(a):WebAssembly.instantiateStreaming(fetch(i,{credentials:"same-origin"}),s).then(a,(function(e){r("wasm streaming compile failed: "+e),r("falling back to ArrayBuffer instantiation"),o(a)})),{}}var a="uade.wast",i="uade.wasm",o="uade.temp.asm.js";gb(a)||(a=ea(a)),gb(i)||(i=ea(i)),gb(o)||(o=ea(o));var s={global:null,env:null,asm2wasm:ua,parent:d},u=null;d.asmPreload=d.asm;var c=d.reallocBuffer;d.reallocBuffer=function(e){if("asmjs"===f)var t=c(e);else e:{var n=d.usingWasm?65536:16777216;if(0<e%n&&(e+=n-e%n),n=d.buffer.byteLength,d.usingWasm)try{t=-1!==d.wasmMemory.grow((e-n)/65536)?d.buffer=d.wasmMemory.buffer:null;break e}catch(r){console.error("Module.reallocBuffer: Attempted to grow from "+n+" bytes to "+e+" bytes, but got error: "+r),t=null;break e}t=void 0}return t};var f="";d.asm=function(e,t){if(!t.table){void 0===(e=d.wasmTableSize)&&(e=1024);var r=d.wasmMaxTableSize;t.table="object"==typeof WebAssembly&&"function"==typeof WebAssembly.Table?void 0!==r?new WebAssembly.Table({initial:e,maximum:r,element:"anyfunc"}):new WebAssembly.Table({initial:e,element:"anyfunc"}):Array(e),d.wasmTable=t.table}return t.memoryBase||(t.memoryBase=d.STATIC_BASE),t.tableBase||(t.tableBase=0),assert(t=n(t),"no binaryen method succeeded. consider enabling more options, like interpreting, if you want that: http://kripken.github.io/emscripten-site/docs/compiling/WebAssembly.html#binaryen-methods"),t}}(),Na=1024,t=Na+991952,Va.push({oa:function(){hb()}},{oa:function(){ib()}}),d.STATIC_BASE=Na,d.STATIC_BUMP=991952;var jb=t;t+=16,assert(0==jb%8);var H={};function kb(e){if(kb.A)var t=y[e>>2],n=y[t>>2];else kb.A=!0,H.USER=H.LOGNAME="web_user",H.PATH="/",H.PWD="/",H.HOME="/home/web_user",H.LANG="C.UTF-8",H._=d.thisProgram,n=Ca(1024),t=Ca(256),y[t>>2]=n,y[e>>2]=t;e=[];var r,a=0;for(r in H)if("string"==typeof H[r]){var i=r+"="+H[r];e.push(i),a+=i.length}if(1024<a)throw Error("Environment size exceeded TOTAL_ENV_SIZE!");for(r=0;r<e.length;r++){a=i=e[r];for(var o=n,s=0;s<a.length;++s)assert(a.charCodeAt(s)==a.charCodeAt(s)&255),A[o++>>0]=a.charCodeAt(s);A[o>>0]=0,y[t+4*r>>2]=n,n+=i.length+1}y[t+4*e.length>>2]=0}var I={F:1,u:2,Dc:3,zb:4,C:5,ga:6,Sa:7,Xb:8,v:9,gb:10,da:11,Nc:11,ya:12,S:13,sb:14,jc:15,T:16,ea:17,Oc:18,V:19,W:20,K:21,h:22,Sb:23,wa:24,D:25,Kc:26,tb:27,ec:28,O:29,Ac:30,Lb:31,tc:32,pb:33,xc:34,ac:42,wb:43,hb:44,Cb:45,Db:46,Eb:47,Kb:48,Lc:49,Vb:50,Bb:51,mb:35,Yb:37,Ya:52,ab:53,Pc:54,Tb:55,bb:56,cb:57,nb:35,eb:59,hc:60,Wb:61,Hc:62,fc:63,bc:64,cc:65,zc:66,Zb:67,Va:68,Ec:69,ib:70,uc:71,Nb:72,qb:73,$a:74,oc:76,Za:77,yc:78,Fb:79,Gb:80,Jb:81,Ib:82,Hb:83,ic:38,fa:39,Ob:36,U:40,pc:95,sc:96,lb:104,Ub:105,Wa:97,wc:91,mc:88,dc:92,Bc:108,kb:111,Ta:98,jb:103,Rb:101,Pb:100,Ic:110,ub:112,vb:113,yb:115,Xa:114,ob:89,Mb:90,vc:93,Cc:94,Ua:99,Qb:102,Ab:106,kc:107,Jc:109,Mc:87,rb:122,Fc:116,nc:95,$b:123,xb:84,qc:75,fb:125,lc:131,rc:130,Gc:86},lb={0:"Success",1:"Not super-user",2:"No such file or directory",3:"No such process",4:"Interrupted system call",5:"I/O error",6:"No such device or address",7:"Arg list too long",8:"Exec format error",9:"Bad file number",10:"No children",11:"No more processes",12:"Not enough core",13:"Permission denied",14:"Bad address",15:"Block device required",16:"Mount device busy",17:"File exists",18:"Cross-device link",19:"No such device",20:"Not a directory",21:"Is a directory",22:"Invalid argument",23:"Too many open files in system",24:"Too many open files",25:"Not a typewriter",26:"Text file busy",27:"File too large",28:"No space left on device",29:"Illegal seek",30:"Read only file system",31:"Too many links",32:"Broken pipe",33:"Math arg out of domain of func",34:"Math result not representable",35:"File locking deadlock error",36:"File or path name too long",37:"No record locks available",38:"Function not implemented",39:"Directory not empty",40:"Too many symbolic links",42:"No message of desired type",43:"Identifier removed",44:"Channel number out of range",45:"Level 2 not synchronized",46:"Level 3 halted",47:"Level 3 reset",48:"Link number out of range",49:"Protocol driver not attached",50:"No CSI structure available",51:"Level 2 halted",52:"Invalid exchange",53:"Invalid request descriptor",54:"Exchange full",55:"No anode",56:"Invalid request code",57:"Invalid slot",59:"Bad font file fmt",60:"Device not a stream",61:"No data (for no delay io)",62:"Timer expired",63:"Out of streams resources",64:"Machine is not on the network",65:"Package not installed",66:"The object is remote",67:"The link has been severed",68:"Advertise error",69:"Srmount error",70:"Communication error on send",71:"Protocol error",72:"Multihop attempted",73:"Cross mount point (not really error)",74:"Trying to read unreadable message",75:"Value too large for defined data type",76:"Given log. name not unique",77:"f.d. invalid for this operation",78:"Remote address changed",79:"Can   access a needed shared lib",80:"Accessing a corrupted shared lib",81:".lib section in a.out corrupted",82:"Attempting to link in too many libs",83:"Attempting to exec a shared library",84:"Illegal byte sequence",86:"Streams pipe error",87:"Too many users",88:"Socket operation on non-socket",89:"Destination address required",90:"Message too long",91:"Protocol wrong type for socket",92:"Protocol not available",93:"Unknown protocol",94:"Socket type not supported",95:"Not supported",96:"Protocol family not supported",97:"Address family not supported by protocol family",98:"Address already in use",99:"Address not available",100:"Network interface is not configured",101:"Network is unreachable",102:"Connection reset by network",103:"Connection aborted",104:"Connection reset by peer",105:"No buffer space available",106:"Socket is already connected",107:"Socket is not connected",108:"Can't send after socket shutdown",109:"Too many references",110:"Connection timed out",111:"Connection refused",112:"Host is down",113:"Host is unreachable",114:"Socket already connected",115:"Connection already in progress",116:"Stale file handle",122:"Quota exceeded",123:"No medium (in tape drive)",125:"Operation canceled",130:"Previous owner died",131:"State not recoverable"};function mb(e){return d.___errno_location?y[d.___errno_location()>>2]=e:r("failed to set errno from JS"),e}function nb(e,t){for(var n=0,r=e.length-1;0<=r;r--){var a=e[r];"."===a?e.splice(r,1):".."===a?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n;n--)e.unshift("..");return e}function ob(e){var t="/"===e.charAt(0),n="/"===e.substr(-1);return(e=nb(e.split("/").filter((function(e){return!!e})),!t).join("/"))||t||(e="."),e&&n&&(e+="/"),(t?"/":"")+e}function pb(e){var t=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(e).slice(1);return e=t[0],t=t[1],e||t?(t&&(t=t.substr(0,t.length-1)),e+t):"."}function qb(e){if("/"===e)return"/";var t=e.lastIndexOf("/");return-1===t?e:e.substr(t+1)}function rb(){return ob(Array.prototype.slice.call(arguments,0).join("/"))}function J(e,t){return ob(e+"/"+t)}function sb(){for(var e="",t=!1,n=arguments.length-1;-1<=n&&!t;n--){if("string"!=typeof(t=0<=n?arguments[n]:"/"))throw new TypeError("Arguments to path.resolve must be strings");if(!t)return"";e=t+"/"+e,t="/"===t.charAt(0)}return(t?"/":"")+(e=nb(e.split("/").filter((function(e){return!!e})),!t).join("/"))||"."}var tb=[];function ub(e,t){tb[e]={input:[],output:[],J:t},vb(e,wb)}var wb={open:function(e){var t=tb[e.node.rdev];if(!t)throw new K(I.V);e.tty=t,e.seekable=!1},close:function(e){e.tty.J.flush(e.tty)},flush:function(e){e.tty.J.flush(e.tty)},read:function(e,t,n,r){if(!e.tty||!e.tty.J.qa)throw new K(I.ga);for(var a=0,i=0;i<r;i++){try{var o=e.tty.J.qa(e.tty)}catch(e){throw new K(I.C)}if(void 0===o&&0===a)throw new K(I.da);if(null==o)break;a++,t[n+i]=o}return a&&(e.node.timestamp=Date.now()),a},write:function(e,t,n,r){if(!e.tty||!e.tty.J.aa)throw new K(I.ga);for(var a=0;a<r;a++)try{e.tty.J.aa(e.tty,t[n+a])}catch(e){throw new K(I.C)}return r&&(e.node.timestamp=Date.now()),a}},yb={qa:function(e){if(!e.input.length){var t=null;if(m){var n=new Buffer(256),r=0,a=process.stdin.fd;if("win32"!=process.platform){var i=!1;try{a=fs.openSync("/dev/stdin","r"),i=!0}catch(e){}}try{r=fs.readSync(a,n,0,256,null)}catch(e){if(-1==e.toString().indexOf("EOF"))throw e;r=0}i&&fs.closeSync(a),t=0<r?n.slice(0,r).toString("utf-8"):null}else"undefined"!=typeof window&&"function"==typeof window.prompt?null!==(t=window.prompt("Input: "))&&(t+="\n"):"function"==typeof readline&&(null!==(t=readline())&&(t+="\n"));if(!t)return null;e.input=xb(t,!0)}return e.input.shift()},aa:function(e,t){null===t||10===t?(ja(Fa(e.output,0)),e.output=[]):0!=t&&e.output.push(t)},flush:function(e){e.output&&0<e.output.length&&(ja(Fa(e.output,0)),e.output=[])}},zb={aa:function(e,t){null===t||10===t?(r(Fa(e.output,0)),e.output=[]):0!=t&&e.output.push(t)},flush:function(e){e.output&&0<e.output.length&&(r(Fa(e.output,0)),e.output=[])}},L={s:null,l:function(){return L.createNode(null,"/",16895,0)},createNode:function(e,t,n,r){if(24576==(61440&n)||4096==(61440&n))throw new K(I.F);return L.s||(L.s={dir:{node:{o:L.c.o,i:L.c.i,lookup:L.c.lookup,L:L.c.L,rename:L.c.rename,unlink:L.c.unlink,rmdir:L.c.rmdir,readdir:L.c.readdir,symlink:L.c.symlink},stream:{B:L.f.B}},file:{node:{o:L.c.o,i:L.c.i},stream:{B:L.f.B,read:L.f.read,write:L.f.write,ha:L.f.ha,ta:L.f.ta,va:L.f.va}},link:{node:{o:L.c.o,i:L.c.i,readlink:L.c.readlink},stream:{}},ka:{node:{o:L.c.o,i:L.c.i},stream:Ab}}),M((n=Bb(e,t,n,r)).mode)?(n.c=L.s.dir.node,n.f=L.s.dir.stream,n.b={}):32768==(61440&n.mode)?(n.c=L.s.file.node,n.f=L.s.file.stream,n.g=0,n.b=null):40960==(61440&n.mode)?(n.c=L.s.link.node,n.f=L.s.link.stream):8192==(61440&n.mode)&&(n.c=L.s.ka.node,n.f=L.s.ka.stream),n.timestamp=Date.now(),e&&(e.b[t]=n),n},Ea:function(e){if(e.b&&e.b.subarray){for(var t=[],n=0;n<e.g;++n)t.push(e.b[n]);return t}return e.b},Sc:function(e){return e.b?e.b.subarray?e.b.subarray(0,e.g):new Uint8Array(e.b):new Uint8Array},la:function(e,t){if(e.b&&e.b.subarray&&t>e.b.length&&(e.b=L.Ea(e),e.g=e.b.length),!e.b||e.b.subarray){var n=e.b?e.b.length:0;n>=t||(t=Math.max(t,n*(1048576>n?2:1.125)|0),0!=n&&(t=Math.max(t,256)),n=e.b,e.b=new Uint8Array(t),0<e.g&&e.b.set(n.subarray(0,e.g),0))}else for(!e.b&&0<t&&(e.b=[]);e.b.length<t;)e.b.push(0)},Na:function(e,t){if(e.g!=t)if(0==t)e.b=null,e.g=0;else{if(!e.b||e.b.subarray){var n=e.b;e.b=new Uint8Array(new ArrayBuffer(t)),n&&e.b.set(n.subarray(0,Math.min(t,e.g)))}else if(e.b||(e.b=[]),e.b.length>t)e.b.length=t;else for(;e.b.length<t;)e.b.push(0);e.g=t}},c:{o:function(e){var t={};return t.dev=8192==(61440&e.mode)?e.id:1,t.ino=e.id,t.mode=e.mode,t.nlink=1,t.uid=0,t.gid=0,t.rdev=e.rdev,M(e.mode)?t.size=4096:32768==(61440&e.mode)?t.size=e.g:40960==(61440&e.mode)?t.size=e.link.length:t.size=0,t.atime=new Date(e.timestamp),t.mtime=new Date(e.timestamp),t.ctime=new Date(e.timestamp),t.G=4096,t.blocks=Math.ceil(t.size/t.G),t},i:function(e,t){void 0!==t.mode&&(e.mode=t.mode),void 0!==t.timestamp&&(e.timestamp=t.timestamp),void 0!==t.size&&L.Na(e,t.size)},lookup:function(){throw Cb[I.u]},L:function(e,t,n,r){return L.createNode(e,t,n,r)},rename:function(e,t,n){if(M(e.mode)){try{var r=Db(t,n)}catch(e){}if(r)for(var a in r.b)throw new K(I.fa)}delete e.parent.b[e.name],e.name=n,t.b[n]=e,e.parent=t},unlink:function(e,t){delete e.b[t]},rmdir:function(e,t){var n,r=Db(e,t);for(n in r.b)throw new K(I.fa);delete e.b[t]},readdir:function(e){var t,n=[".",".."];for(t in e.b)e.b.hasOwnProperty(t)&&n.push(t);return n},symlink:function(e,t,n){return(e=L.createNode(e,t,41471,0)).link=n,e},readlink:function(e){if(40960!=(61440&e.mode))throw new K(I.h);return e.link}},f:{read:function(e,t,n,r,a){var i=e.node.b;if(a>=e.node.g)return 0;if(assert(0<=(e=Math.min(e.node.g-a,r))),8<e&&i.subarray)t.set(i.subarray(a,a+e),n);else for(r=0;r<e;r++)t[n+r]=i[a+r];return e},write:function(e,t,n,r,a,i){if(!r)return 0;if((e=e.node).timestamp=Date.now(),t.subarray&&(!e.b||e.b.subarray)){if(i)return assert(0===a,"canOwn must imply no weird position inside the file"),e.b=t.subarray(n,n+r),e.g=r;if(0===e.g&&0===a)return e.b=new Uint8Array(t.subarray(n,n+r)),e.g=r;if(a+r<=e.g)return e.b.set(t.subarray(n,n+r),a),r}if(L.la(e,a+r),e.b.subarray&&t.subarray)e.b.set(t.subarray(n,n+r),a);else for(i=0;i<r;i++)e.b[a+i]=t[n+i];return e.g=Math.max(e.g,a+r),r},B:function(e,t,n){if(1===n?t+=e.position:2===n&&32768==(61440&e.node.mode)&&(t+=e.node.g),0>t)throw new K(I.h);return t},ha:function(e,t,n){L.la(e.node,t+n),e.node.g=Math.max(e.node.g,t+n)},ta:function(e,t,n,r,a,i,o){if(32768!=(61440&e.node.mode))throw new K(I.V);if(n=e.node.b,2&o||n.buffer!==t&&n.buffer!==t.buffer){if((0<a||a+r<e.node.g)&&(n=n.subarray?n.subarray(a,a+r):Array.prototype.slice.call(n,a,a+r)),e=!0,!(r=Ba(r)))throw new K(I.ya);t.set(n,r)}else e=!1,r=n.byteOffset;return{Uc:r,Qc:e}},va:function(e,t,n,r,a){if(32768!=(61440&e.node.mode))throw new K(I.V);return 2&a||L.f.write(e,t,0,r,n,!1),0}}},O={R:!1,Qa:function(){O.R=!!process.platform.match(/^win/);var e=process.binding("constants");e.fs&&(e=e.fs),O.ma={1024:e.O_APPEND,64:e.O_CREAT,128:e.O_EXCL,0:e.O_RDONLY,2:e.O_RDWR,4096:e.O_SYNC,512:e.O_TRUNC,1:e.O_WRONLY}},ia:function(e){return Buffer.A?Buffer.from(e):new Buffer(e)},l:function(e){return assert(m),O.createNode(null,"/",O.pa(e.$.root),0)},createNode:function(e,t,n){if(!M(n)&&32768!=(61440&n)&&40960!=(61440&n))throw new K(I.h);return(e=Bb(e,t,n)).c=O.c,e.f=O.f,e},pa:function(e){try{var t=fs.lstatSync(e);O.R&&(t.mode=t.mode|(292&t.mode)>>2)}catch(e){if(!e.code)throw e;throw new K(I[e.code])}return t.mode},m:function(e){for(var t=[];e.parent!==e;)t.push(e.name),e=e.parent;return t.push(e.l.$.root),t.reverse(),rb.apply(null,t)},Da:function(e){e&=-2656257;var t,n=0;for(t in O.ma)e&t&&(n|=O.ma[t],e^=t);if(e)throw new K(I.h);return n},c:{o:function(e){e=O.m(e);try{var t=fs.lstatSync(e)}catch(e){if(!e.code)throw e;throw new K(I[e.code])}return O.R&&!t.G&&(t.G=4096),O.R&&!t.blocks&&(t.blocks=(t.size+t.G-1)/t.G|0),{dev:t.dev,ino:t.ino,mode:t.mode,nlink:t.nlink,uid:t.uid,gid:t.gid,rdev:t.rdev,size:t.size,atime:t.atime,mtime:t.mtime,ctime:t.ctime,G:t.G,blocks:t.blocks}},i:function(e,t){var n=O.m(e);try{void 0!==t.mode&&(fs.chmodSync(n,t.mode),e.mode=t.mode),void 0!==t.size&&fs.truncateSync(n,t.size)}catch(e){if(!e.code)throw e;throw new K(I[e.code])}},lookup:function(e,t){var n=J(O.m(e),t);return n=O.pa(n),O.createNode(e,t,n)},L:function(e,t,n,r){e=O.createNode(e,t,n,r),t=O.m(e);try{M(e.mode)?fs.mkdirSync(t,e.mode):fs.writeFileSync(t,"",{mode:e.mode})}catch(e){if(!e.code)throw e;throw new K(I[e.code])}return e},rename:function(e,t,n){e=O.m(e),t=J(O.m(t),n);try{fs.renameSync(e,t)}catch(e){if(!e.code)throw e;throw new K(I[e.code])}},unlink:function(e,t){e=J(O.m(e),t);try{fs.unlinkSync(e)}catch(e){if(!e.code)throw e;throw new K(I[e.code])}},rmdir:function(e,t){e=J(O.m(e),t);try{fs.rmdirSync(e)}catch(e){if(!e.code)throw e;throw new K(I[e.code])}},readdir:function(e){e=O.m(e);try{return fs.readdirSync(e)}catch(e){if(!e.code)throw e;throw new K(I[e.code])}},symlink:function(e,t,n){e=J(O.m(e),t);try{fs.symlinkSync(n,e)}catch(e){if(!e.code)throw e;throw new K(I[e.code])}},readlink:function(e){var t=O.m(e);try{return t=fs.readlinkSync(t),t=Eb.relative(Eb.resolve(e.l.$.root),t)}catch(e){if(!e.code)throw e;throw new K(I[e.code])}}},f:{open:function(e){var t=O.m(e.node);try{32768==(61440&e.node.mode)&&(e.N=fs.openSync(t,O.Da(e.flags)))}catch(e){if(!e.code)throw e;throw new K(I[e.code])}},close:function(e){try{32768==(61440&e.node.mode)&&e.N&&fs.closeSync(e.N)}catch(e){if(!e.code)throw e;throw new K(I[e.code])}},read:function(e,t,n,r,a){if(0===r)return 0;try{return fs.readSync(e.N,O.ia(t.buffer),n,r,a)}catch(e){throw new K(I[e.code])}},write:function(e,t,n,r,a){try{return fs.writeSync(e.N,O.ia(t.buffer),n,r,a)}catch(e){throw new K(I[e.code])}},B:function(e,t,n){if(1===n)t+=e.position;else if(2===n&&32768==(61440&e.node.mode))try{t+=fs.fstatSync(e.N).size}catch(e){throw new K(I[e.code])}if(0>t)throw new K(I.h);return t}}};t+=16,t+=16,t+=16;var Fb=null,Gb={},Ib=[],Jb=1,P=null,Kb=!0,Q={},K=null,Cb={};function R(e,t){if(t=t||{},!(e=sb("/",e)))return{path:"",node:null};var n,r={na:!0,ba:0};for(n in r)void 0===t[n]&&(t[n]=r[n]);if(8<t.ba)throw new K(I.U);e=nb(e.split("/").filter((function(e){return!!e})),!1);var a=Fb;for(r="/",n=0;n<e.length;n++){var i=n===e.length-1;if(i&&t.parent)break;if(a=Db(a,e[n]),r=J(r,e[n]),a.M&&(!i||i&&t.na)&&(a=a.M.root),!i||t.H)for(i=0;40960==(61440&a.mode);)if(a=Lb(r),a=R(r=sb(pb(r),a),{ba:t.ba}).node,40<i++)throw new K(I.U)}return{path:r,node:a}}function S(e){for(var t;;){if(e===e.parent)return e=e.l.ua,t?"/"!==e[e.length-1]?e+"/"+t:e+t:e;t=t?e.name+"/"+t:e.name,e=e.parent}}function Mb(e,t){for(var n=0,r=0;r<t.length;r++)n=(n<<5)-n+t.charCodeAt(r)|0;return(e+n>>>0)%P.length}function Nb(e){var t=Mb(e.parent.id,e.name);e.I=P[t],P[t]=e}function Db(e,t){var n;if(n=(n=Ob(e,"x"))?n:e.c.lookup?0:I.S)throw new K(n,e);for(n=P[Mb(e.id,t)];n;n=n.I){var r=n.name;if(n.parent.id===e.id&&r===t)return n}return e.c.lookup(e,t)}function Bb(e,t,n,r){return Pb||(Pb=function(e,t,n,r){e||(e=this),this.parent=e,this.l=e.l,this.M=null,this.id=Jb++,this.name=t,this.mode=n,this.c={},this.f={},this.rdev=r},Pb.prototype={},Object.defineProperties(Pb.prototype,{read:{get:function(){return 365==(365&this.mode)},set:function(e){e?this.mode|=365:this.mode&=-366}},write:{get:function(){return 146==(146&this.mode)},set:function(e){e?this.mode|=146:this.mode&=-147}},Ha:{get:function(){return M(this.mode)}},Ga:{get:function(){return 8192==(61440&this.mode)}}})),Nb(e=new Pb(e,t,n,r)),e}function M(e){return 16384==(61440&e)}var Qb={r:0,rs:1052672,"r+":2,w:577,wx:705,xw:705,"w+":578,"wx+":706,"xw+":706,a:1089,ax:1217,xa:1217,"a+":1090,"ax+":1218,"xa+":1218};function Rb(e){var t=["r","w","rw"][3&e];return 512&e&&(t+="w"),t}function Ob(e,t){return Kb||(-1===t.indexOf("r")||292&e.mode)&&(-1===t.indexOf("w")||146&e.mode)&&(-1===t.indexOf("x")||73&e.mode)?0:I.S}function Sb(e,t){try{return Db(e,t),I.ea}catch(e){}return Ob(e,"wx")}function Tb(e){for(e=e||0;e<=4096;e++)if(!Ib[e])return e;throw new K(I.wa)}function Ub(e,t){Vb||((Vb=function(){}).prototype={},Object.defineProperties(Vb.prototype,{object:{get:function(){return this.node},set:function(e){this.node=e}}}));var n,r=new Vb;for(n in e)r[n]=e[n];return e=r,t=Tb(t),e.fd=t,Ib[t]=e}var Ab={open:function(e){e.f=Gb[e.node.rdev].f,e.f.open&&e.f.open(e)},B:function(){throw new K(I.O)}},ic;function vb(e,t){Gb[e]={f:t}}function Wb(e,t){var n="/"===t,r=!t;if(n&&Fb)throw new K(I.T);if(!n&&!r){var a=R(t,{na:!1});if(t=a.path,(a=a.node).M)throw new K(I.T);if(!M(a.mode))throw new K(I.W)}t={type:e,$:{},ua:t,Ja:[]},(e=e.l(t)).l=t,t.root=e,n?Fb=e:a&&(a.M=t,a.l&&a.l.Ja.push(t))}function Xb(e,t,n){var r=R(e,{parent:!0}).node;if(!(e=qb(e))||"."===e||".."===e)throw new K(I.h);var a=Sb(r,e);if(a)throw new K(a);if(!r.c.L)throw new K(I.F);return r.c.L(r,e,t,n)}function T(e,t){return Xb(e,1023&(void 0!==t?t:511)|16384,0)}function Yb(e,t,n){return void 0===n&&(n=t,t=438),Xb(e,8192|t,n)}function Zb(e,t){if(!sb(e))throw new K(I.u);var n=R(t,{parent:!0}).node;if(!n)throw new K(I.u);var r=Sb(n,t=qb(t));if(r)throw new K(r);if(!n.c.symlink)throw new K(I.F);return n.c.symlink(n,t,e)}function $b(e){var t=R(e,{parent:!0}).node,n=qb(e),r=Db(t,n);e:{try{var a=Db(t,n)}catch(e){a=e.j;break e}var i=Ob(t,"wx");a=i||(M(a.mode)?I.K:0)}if(a)throw new K(a);if(!t.c.unlink)throw new K(I.F);if(r.M)throw new K(I.T);try{Q.willDeletePath&&Q.willDeletePath(e)}catch(t){console.log("FS.trackingDelegate['willDeletePath']('"+e+"') threw an exception: "+t.message)}if(t.c.unlink(t,n),t=Mb(r.parent.id,r.name),P[t]===r)P[t]=r.I;else for(t=P[t];t;){if(t.I===r){t.I=r.I;break}t=t.I}try{Q.onDeletePath&&Q.onDeletePath(e)}catch(t){console.log("FS.trackingDelegate['onDeletePath']('"+e+"') threw an exception: "+t.message)}}function Lb(e){if(!(e=R(e).node))throw new K(I.u);if(!e.c.readlink)throw new K(I.h);return sb(S(e.parent),e.c.readlink(e))}function ac(e,t){var n;if(!(n="string"==typeof e?R(e,{H:!0}).node:e).c.i)throw new K(I.F);n.c.i(n,{mode:4095&t|-4096&n.mode,timestamp:Date.now()})}function bc(e,t,n,r){if(""===e)throw new K(I.u);if("string"==typeof t){var a=Qb[t];if(void 0===a)throw Error("Unknown file open mode: "+t);t=a}if(n=64&t?4095&(void 0===n?438:n)|32768:0,"object"==typeof e)var i=e;else{e=ob(e);try{i=R(e,{H:!(131072&t)}).node}catch(e){}}if(a=!1,64&t)if(i){if(128&t)throw new K(I.ea)}else i=Xb(e,n,0),a=!0;if(!i)throw new K(I.u);if(8192==(61440&i.mode)&&(t&=-513),65536&t&&!M(i.mode))throw new K(I.W);if(!a){var o=i?40960==(61440&i.mode)?I.U:M(i.mode)&&("r"!==Rb(t)||512&t)?I.K:Ob(i,Rb(t)):I.u;if(o)throw new K(o)}if(512&t){var s;if(!(s="string"==typeof(n=i)?R(n,{H:!0}).node:n).c.i)throw new K(I.F);if(M(s.mode))throw new K(I.K);if(32768!=(61440&s.mode))throw new K(I.h);if(n=Ob(s,"w"))throw new K(n);s.c.i(s,{size:0,timestamp:Date.now()})}t&=-641,(r=Ub({node:i,path:S(i),flags:t,seekable:!0,position:0,f:i.f,Ra:[],error:!1},r)).f.open&&r.f.open(r),!d.logReadFiles||1&t||(cc||(cc={}),e in cc||(cc[e]=1,o("read file: "+e)));try{Q.onOpenFile&&(o=0,1!=(2097155&t)&&(o|=1),0!=(2097155&t)&&(o|=2),Q.onOpenFile(e,o))}catch(t){console.log("FS.trackingDelegate['onOpenFile']('"+e+"', flags) threw an exception: "+t.message)}return r}function dc(e){if(null===e.fd)throw new K(I.v);e.Y&&(e.Y=null);try{e.f.close&&e.f.close(e)}catch(e){throw e}finally{Ib[e.fd]=null}e.fd=null}function ec(e,t,n){if(null===e.fd)throw new K(I.v);if(!e.seekable||!e.f.B)throw new K(I.O);e.position=e.f.B(e,t,n),e.Ra=[]}function fc(e,t,n,r,a,i){if(0>r||0>a)throw new K(I.h);if(null===e.fd)throw new K(I.v);if(0==(2097155&e.flags))throw new K(I.v);if(M(e.node.mode))throw new K(I.K);if(!e.f.write)throw new K(I.h);1024&e.flags&&ec(e,0,2);var o=void 0!==a;if(o){if(!e.seekable)throw new K(I.O)}else a=e.position;t=e.f.write(e,t,n,r,a,i),o||(e.position+=t);try{e.path&&Q.onWriteToFile&&Q.onWriteToFile(e.path)}catch(e){console.log("FS.trackingDelegate['onWriteToFile']('"+path+"') threw an exception: "+e.message)}return t}function hc(){K||((K=function(e,t){this.node=t,this.Pa=function(e){for(var t in this.j=e,I)if(I[t]===e){this.code=t;break}},this.Pa(e),this.message=lb[e],this.stack&&Object.defineProperty(this,"stack",{value:Error().stack,writable:!0}),this.stack&&(this.stack=Ga(this.stack))}).prototype=Error(),K.prototype.constructor=K,[I.u].forEach((function(e){Cb[e]=new K(e),Cb[e].stack="<generic error, no stack>"})))}function jc(e,t){var n=0;return e&&(n|=365),t&&(n|=146),n}function kc(e,t,n,r){return T(e=J("string"==typeof e?e:S(e),t),jc(n,r))}function lc(e,t){for(e="string"==typeof e?e:S(e),t=t.split("/").reverse();t.length;){var n=t.pop();if(n){var r=J(e,n);try{T(r)}catch(e){}e=r}}return r}function mc(e,t,n,r){return Xb(e=J("string"==typeof e?e:S(e),t),4095&(void 0!==(n=jc(n,r))?n:438)|32768,0)}function nc(e,t,n,r,a,i){if(a=Xb(e=t?J("string"==typeof e?e:S(e),t):e,4095&(void 0!==(r=jc(r,a))?r:438)|32768,0),n){if("string"==typeof n){e=Array(n.length),t=0;for(var o=n.length;t<o;++t)e[t]=n.charCodeAt(t);n=e}ac(a,146|r),fc(e=bc(a,"w"),n,0,n.length,0,i),dc(e),ac(a,r)}return a}function U(e,t,n,r){e=J("string"==typeof e?e:S(e),t),t=jc(!!n,!!r),U.sa||(U.sa=64);var a=U.sa++<<8|0;return vb(a,{open:function(e){e.seekable=!1},close:function(){r&&r.buffer&&r.buffer.length&&r(10)},read:function(e,t,r,a){for(var i=0,o=0;o<a;o++){try{var s=n()}catch(e){throw new K(I.C)}if(void 0===s&&0===i)throw new K(I.da);if(null==s)break;i++,t[r+o]=s}return i&&(e.node.timestamp=Date.now()),i},write:function(e,t,n,a){for(var i=0;i<a;i++)try{r(t[n+i])}catch(e){throw new K(I.C)}return a&&(e.node.timestamp=Date.now()),i}}),Yb(e,t,a)}function oc(e,t,n){return Zb(n,e=J("string"==typeof e?e:S(e),t))}function pc(e){if(e.Ga||e.Ha||e.link||e.b)return!0;var t=!0;if("undefined"!=typeof XMLHttpRequest)throw Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(!d.read)throw Error("Cannot load without read() or XMLHttpRequest.");try{e.b=xb(d.read(e.url),!0),e.g=e.b.length}catch(e){t=!1}return t||mb(I.C),t}function qc(e,t,n,r,a){function i(){this.Z=!1,this.P=[]}if(i.prototype.get=function(e){if(!(e>this.length-1||0>e)){var t=e%this.chunkSize;return this.ra(e/this.chunkSize|0)[t]}},i.prototype.Oa=function(e){this.ra=e},i.prototype.ja=function(){var e=new XMLHttpRequest;if(e.open("HEAD",n,!1),e.send(null),!(200<=e.status&&300>e.status||304===e.status))throw Error("Couldn't load "+n+". Status: "+e.status);var t,r=Number(e.getResponseHeader("Content-length")),a=(t=e.getResponseHeader("Accept-Ranges"))&&"bytes"===t;e=(t=e.getResponseHeader("Content-Encoding"))&&"gzip"===t;var i=1048576;a||(i=r);var o=this;o.Oa((function(e){var t=e*i,a=(e+1)*i-1;if(a=Math.min(a,r-1),void 0===o.P[e]){var s=o.P;if(t>a)throw Error("invalid range ("+t+", "+a+") or no bytes requested!");if(a>r-1)throw Error("only "+r+" bytes available! programmer error!");var d=new XMLHttpRequest;if(d.open("GET",n,!1),r!==i&&d.setRequestHeader("Range","bytes="+t+"-"+a),"undefined"!=typeof Uint8Array&&(d.responseType="arraybuffer"),d.overrideMimeType&&d.overrideMimeType("text/plain; charset=x-user-defined"),d.send(null),!(200<=d.status&&300>d.status||304===d.status))throw Error("Couldn't load "+n+". Status: "+d.status);t=void 0!==d.response?new Uint8Array(d.response||[]):xb(d.responseText||"",!0),s[e]=t}if(void 0===o.P[e])throw Error("doXHR failed!");return o.P[e]})),!e&&r||(i=r=1,i=r=this.ra(0).length,console.log("LazyFiles on gzip forces download of the whole file when length is accessed")),this.Aa=r,this.za=i,this.Z=!0},"undefined"!=typeof XMLHttpRequest){if(!l)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var o=new i;Object.defineProperties(o,{length:{get:function(){return this.Z||this.ja(),this.Aa}},chunkSize:{get:function(){return this.Z||this.ja(),this.za}}});var s=void 0}else s=n,o=void 0;var d=mc(e,t,r,a);o?d.b=o:s&&(d.b=null,d.url=s),Object.defineProperties(d,{g:{get:function(){return this.b.length}}});var u={};return Object.keys(d.f).forEach((function(e){var t=d.f[e];u[e]=function(){if(!pc(d))throw new K(I.C);return t.apply(null,arguments)}})),u.read=function(e,t,n,r,a){if(!pc(d))throw new K(I.C);if(a>=(e=e.node.b).length)return 0;if(assert(0<=(r=Math.min(e.length-a,r))),e.slice)for(var i=0;i<r;i++)t[n+i]=e[a+i];else for(i=0;i<r;i++)t[n+i]=e.get(a+i);return r},d.f=u,d}function rc(e,t,n,r,a,i,o,s,u,c){function l(n){function l(n){c&&c(),s||nc(e,t,n,r,a,u),i&&i(),fb(h)}var m=!1;d.preloadPlugins.forEach((function(e){!m&&e.canHandle(f)&&(e.handle(n,f,l,(function(){o&&o(),fb(h)})),m=!0)})),m||l(n)}Browser.Tc();var f=t?sb(J(e,t)):e,h=db("cp "+f);eb(h),"string"==typeof n?Browser.Rc(n,(function(e){l(e)}),o):l(n)}var FS={},Pb,Vb,cc;function sc(e,t){try{var n=R(e,{H:!0}).node;if(!n)throw new K(I.u);if(!n.c.o)throw new K(I.F);var r=n.c.o(n)}catch(t){if(t&&t.node&&ob(e)!==ob(S(t.node)))return-I.W;throw t}return y[t>>2]=r.dev,y[t+4>>2]=0,y[t+8>>2]=r.ino,y[t+12>>2]=r.mode,y[t+16>>2]=r.nlink,y[t+20>>2]=r.uid,y[t+24>>2]=r.gid,y[t+28>>2]=r.rdev,y[t+32>>2]=0,y[t+36>>2]=r.size,y[t+40>>2]=4096,y[t+44>>2]=r.blocks,y[t+48>>2]=r.atime.getTime()/1e3|0,y[t+52>>2]=0,y[t+56>>2]=r.mtime.getTime()/1e3|0,y[t+60>>2]=0,y[t+64>>2]=r.ctime.getTime()/1e3|0,y[t+68>>2]=0,y[t+72>>2]=r.ino,0}var V=0;function X(){return y[(V+=4)-4>>2]}function tc(){var e=Ib[X()];if(!e)throw new K(I.v);return e}function uc(e){return Math.pow(2,e)}function vc(e){return Math.log(e)/Math.LN10}function wc(){return wc.A||(wc.A=[]),wc.A.push(ka()),wc.A.length-1}var Y=t,yc;function xc(){function e(e){return(e=e.toTimeString().match(/\(([A-Za-z ]+)\)$/))?e[1]:"GMT"}if(!yc){yc=!0,y[zc()>>2]=60*(new Date).getTimezoneOffset();var t=new Date(2e3,0,1),n=new Date(2e3,6,1);y[Ac()>>2]=Number(t.getTimezoneOffset()!=n.getTimezoneOffset());var r=e(t),a=e(n);r=Aa(xb(r),0),a=Aa(xb(a),0),n.getTimezoneOffset()<t.getTimezoneOffset()?(y[Bc()>>2]=r,y[Bc()+4>>2]=a):(y[Bc()>>2]=a,y[Bc()+4>>2]=r)}}if(t+=48,Aa(xb("GMT"),2),hc(),P=Array(4096),Wb(L,"/"),T("/tmp"),T("/home"),T("/home/web_user"),function(){if(T("/dev"),vb(259,{read:function(){return 0},write:function(e,t,n,r){return r}}),Yb("/dev/null",259),ub(1280,yb),ub(1536,zb),Yb("/dev/tty",1280),Yb("/dev/tty1",1536),"undefined"!=typeof crypto)var e=new Uint8Array(1),t=function(){return crypto.getRandomValues(e),e[0]};else t=m?function(){return require("crypto").randomBytes(1)[0]}:function(){q("random_device")};U("/dev","random",t),U("/dev","urandom",t),T("/dev/shm"),T("/dev/shm/tmp")}(),T("/proc"),T("/proc/self"),T("/proc/self/fd"),Wb({l:function(){var e=Bb("/proc/self","fd",16895,73);return e.c={lookup:function(e,t){var n=Ib[+t];if(!n)throw new K(I.v);return(e={parent:null,l:{ua:"fake"},c:{readlink:function(){return n.path}}}).parent=e}},e}},"/proc/self/fd"),Va.unshift((function(){if(!d.noFSInit&&!ic){assert(!ic,"FS.init was previously called. If you want to initialize later with custom parameters, remove any earlier calls (note that one is automatically added to the generated code)"),ic=!0,hc(),d.stdin=d.stdin,d.stdout=d.stdout,d.stderr=d.stderr,d.stdin?U("/dev","stdin",d.stdin):Zb("/dev/tty","/dev/stdin"),d.stdout?U("/dev","stdout",null,d.stdout):Zb("/dev/tty","/dev/stdout"),d.stderr?U("/dev","stderr",null,d.stderr):Zb("/dev/tty1","/dev/stderr");var e=bc("/dev/stdin","r");assert(0===e.fd,"invalid handle for stdin ("+e.fd+")"),assert(1===(e=bc("/dev/stdout","w")).fd,"invalid handle for stdout ("+e.fd+")"),assert(2===(e=bc("/dev/stderr","w")).fd,"invalid handle for stderr ("+e.fd+")")}})),Wa.push((function(){Kb=!1})),Xa.push((function(){ic=!1;var e=d._fflush;for(e&&e(0),e=0;e<Ib.length;e++){var t=Ib[e];t&&dc(t)}})),d.FS_createFolder=kc,d.FS_createPath=lc,d.FS_createDataFile=nc,d.FS_createPreloadedFile=rc,d.FS_createLazyFile=qc,d.FS_createLink=oc,d.FS_createDevice=U,d.FS_unlink=$b,Va.unshift((function(){})),Xa.push((function(){})),m){var fs=require("fs"),Eb=require("path");O.Qa()}function xb(e,t){for(var n=0,r=0;r<e.length;++r){var a=e.charCodeAt(r);55296<=a&&57343>=a&&(a=65536+((1023&a)<<10)|1023&e.charCodeAt(++r)),127>=a?++n:n=2047>=a?n+2:65535>=a?n+3:2097151>=a?n+4:67108863>=a?n+5:n+6}return e=xa(e,n=Array(n+1),0,n.length),t&&(n.length=e),n}w=na(4),Oa=Pa=ra(t),F=Oa+Sa,Qa=ra(F),y[w>>2]=Qa,oa=!0,assert(Qa<v,"TOTAL_MEMORY not big enough for stack"),d.wasmTableSize=4184,d.wasmMaxTableSize=4184,d.Ba={},d.Ca={enlargeMemory:function(){qa()},getTotalMemory:function(){return v},abortOnCannotGrowMemory:qa,abortStackOverflow:function(e){q("Stack overflow! Attempted to allocate "+e+" bytes on the stack, but stack has only "+(F-ka()+e)+" bytes available!")},nullFunc_ii:function(e){r("Invalid function pointer called with signature 'ii'. Perhaps this is an invalid value (e.g. caused by calling a virtual method on a NULL pointer)? Or calling a function with an incorrect type, which will fail? (it is worth building your source files with -Werror (warnings are errors), as warnings can indicate undefined behavior which can cause this)"),r("Build with ASSERTIONS=2 for more info."),q(e)},nullFunc_iii:function(e){r("Invalid function pointer called with signature 'iii'. Perhaps this is an invalid value (e.g. caused by calling a virtual method on a NULL pointer)? Or calling a function with an incorrect type, which will fail? (it is worth building your source files with -Werror (warnings are errors), as warnings can indicate undefined behavior which can cause this)"),r("Build with ASSERTIONS=2 for more info."),q(e)},nullFunc_iiii:function(e){r("Invalid function pointer called with signature 'iiii'. Perhaps this is an invalid value (e.g. caused by calling a virtual method on a NULL pointer)? Or calling a function with an incorrect type, which will fail? (it is worth building your source files with -Werror (warnings are errors), as warnings can indicate undefined behavior which can cause this)"),r("Build with ASSERTIONS=2 for more info."),q(e)},nullFunc_iiiii:function(e){r("Invalid function pointer called with signature 'iiiii'. Perhaps this is an invalid value (e.g. caused by calling a virtual method on a NULL pointer)? Or calling a function with an incorrect type, which will fail? (it is worth building your source files with -Werror (warnings are errors), as warnings can indicate undefined behavior which can cause this)"),r("Build with ASSERTIONS=2 for more info."),q(e)},nullFunc_v:function(e){r("Invalid function pointer called with signature 'v'. Perhaps this is an invalid value (e.g. caused by calling a virtual method on a NULL pointer)? Or calling a function with an incorrect type, which will fail? (it is worth building your source files with -Werror (warnings are errors), as warnings can indicate undefined behavior which can cause this)"),r("Build with ASSERTIONS=2 for more info."),q(e)},nullFunc_vi:function(e){r("Invalid function pointer called with signature 'vi'. Perhaps this is an invalid value (e.g. caused by calling a virtual method on a NULL pointer)? Or calling a function with an incorrect type, which will fail? (it is worth building your source files with -Werror (warnings are errors), as warnings can indicate undefined behavior which can cause this)"),r("Build with ASSERTIONS=2 for more info."),q(e)},nullFunc_vii:function(e){r("Invalid function pointer called with signature 'vii'. Perhaps this is an invalid value (e.g. caused by calling a virtual method on a NULL pointer)? Or calling a function with an incorrect type, which will fail? (it is worth building your source files with -Werror (warnings are errors), as warnings can indicate undefined behavior which can cause this)"),r("Build with ASSERTIONS=2 for more info."),q(e)},nullFunc_viiii:function(e){r("Invalid function pointer called with signature 'viiii'. Perhaps this is an invalid value (e.g. caused by calling a virtual method on a NULL pointer)? Or calling a function with an incorrect type, which will fail? (it is worth building your source files with -Werror (warnings are errors), as warnings can indicate undefined behavior which can cause this)"),r("Build with ASSERTIONS=2 for more info."),q(e)},nullFunc_viiiii:function(e){r("Invalid function pointer called with signature 'viiiii'. Perhaps this is an invalid value (e.g. caused by calling a virtual method on a NULL pointer)? Or calling a function with an incorrect type, which will fail? (it is worth building your source files with -Werror (warnings are errors), as warnings can indicate undefined behavior which can cause this)"),r("Build with ASSERTIONS=2 for more info."),q(e)},nullFunc_viiiiii:function(e){r("Invalid function pointer called with signature 'viiiiii'. Perhaps this is an invalid value (e.g. caused by calling a virtual method on a NULL pointer)? Or calling a function with an incorrect type, which will fail? (it is worth building your source files with -Werror (warnings are errors), as warnings can indicate undefined behavior which can cause this)"),r("Build with ASSERTIONS=2 for more info."),q(e)},___assert_fail:function(e,t,n,r){q("Assertion failed: "+D(e)+", at: "+[t?D(t):"unknown filename",n,r?D(r):"unknown function"])},___buildEnvironment:kb,___lock:function(){},___setErrNo:mb,___syscall114:function(e,t){V=t;try{q("cannot wait on child processes")}catch(e){return void 0!==FS&&e instanceof K||q(e),-e.j}},___syscall140:function(e,t){V=t;try{var n=tc();X();var r=X(),a=X(),i=X();return ec(n,r,i),y[a>>2]=n.position,n.Y&&0===r&&0===i&&(n.Y=null),0}catch(e){return void 0!==FS&&e instanceof K||q(e),-e.j}},___syscall145:function(e,t){V=t;try{var n=tc(),r=X();e:{var a=X();for(t=e=0;t<a;t++){var i=y[r+(8*t+4)>>2],o=n,s=y[r+8*t>>2],d=i,u=void 0,c=A;if(0>d||0>u)throw new K(I.h);if(null===o.fd)throw new K(I.v);if(1==(2097155&o.flags))throw new K(I.v);if(M(o.node.mode))throw new K(I.K);if(!o.f.read)throw new K(I.h);var l=void 0!==u;if(l){if(!o.seekable)throw new K(I.O)}else u=o.position;var f=o.f.read(o,c,s,d,u);l||(o.position+=f);var h=f;if(0>h){var m=-1;break e}if(e+=h,h<i)break}m=e}return m}catch(e){return void 0!==FS&&e instanceof K||q(e),-e.j}},___syscall146:function(e,t){V=t;try{var n=tc(),r=X();e:{var a=X();for(t=e=0;t<a;t++){var i=fc(n,A,y[r+8*t>>2],y[r+(8*t+4)>>2],void 0);if(0>i){var o=-1;break e}e+=i}o=e}return o}catch(e){return void 0!==FS&&e instanceof K||q(e),-e.j}},___syscall195:function(e,t){V=t;try{return sc(D(X()),X())}catch(e){return void 0!==FS&&e instanceof K||q(e),-e.j}},___syscall197:function(e,t){V=t;try{var n=tc(),r=X();return sc(n.path,r)}catch(e){return void 0!==FS&&e instanceof K||q(e),-e.j}},___syscall221:function(e,t){V=t;try{var n=tc();switch(X()){case 0:var r=X();return 0>r?-I.h:bc(n.path,n.flags,0,r).fd;case 1:case 2:case 13:case 14:case 13:case 14:return 0;case 3:return n.flags;case 4:return r=X(),n.flags|=r,0;case 12:case 12:return r=X(),Ia[r+0>>1]=2,0;case 16:case 8:default:return-I.h;case 9:return mb(I.h),-1}}catch(e){return void 0!==FS&&e instanceof K||q(e),-e.j}},___syscall5:function(e,t){V=t;try{return bc(D(X()),X(),X()).fd}catch(e){return void 0!==FS&&e instanceof K||q(e),-e.j}},___syscall54:function(e,t){V=t;try{var n=tc(),r=X();switch(r){case 21509:case 21505:case 21510:case 21511:case 21512:case 21506:case 21507:case 21508:case 21523:case 21524:return n.tty?0:-I.D;case 21519:if(!n.tty)return-I.D;var a=X();return y[a>>2]=0;case 21520:return n.tty?-I.h:-I.D;case 21531:if(e=a=X(),!n.f.Fa)throw new K(I.D);return n.f.Fa(n,r,e);default:q("bad ioctl syscall "+r)}}catch(e){return void 0!==FS&&e instanceof K||q(e),-e.j}},___syscall6:function(e,t){V=t;try{return dc(tc()),0}catch(e){return void 0!==FS&&e instanceof K||q(e),-e.j}},___unlock:function(){},_abort:function(){d.abort()},_ems_cache_file:function(e,t,n){t=B.subarray(t,t+n),window.ScriptNodePlayer.getInstance().setFileData(D(e),t)},_ems_notify_format_update:function(e){var t={};return t.format=D(e).replace("type: ",""),window.ScriptNodePlayer.getInstance()._songUpdateCallback(t)},_ems_notify_player_update:function(e){var t={};return t.player=D(e),window.ScriptNodePlayer.getInstance()._songUpdateCallback(t)},_ems_notify_song_update:function(e,t,n,r){t=D(t),n=D(n),r=D(r);e:for(var a=d,i=[];;){var o=a.getValue(e++,"i8",!0);if(!o)break e;i.push(255&o)}for(a=i,e=[],i="",o=0;o<a.length;o++){var s=a[o];13==s||10==s?i.length&&(e.push(i),i=""):i+=window.String.fromCharCode(s)}for(a="",o=0;o<e.length;o++)a+=e[o]+"<br>";i={};var u=s=null;for(o=0;o<e.length;o++){var c=e[o];if(aa(c,"Music:")){var l=i.authorname?i.authorname:[];l.unshift(c.substring(6).trim()),i.authorname=l}else if(aa(c,"DeliCustom:"))(l=i.specialinfo?i.specialinfo:[]).unshift(c.substring(11).trim()),i.specialinfo=l;else if(aa(c,"File name:"))(l=i.title?i.title:[]).unshift(c.substring(10).trim()),i.title=l;else if(aa(c,"Song title:"))(l=i.title?i.title:[]).unshift(c.substring(11).trim()),i.title=l;else if(aa(c,"File prefix:"))i.prefix=c.substring(12).trim();else{e:{var f=c,h="MODULENAME: AUTHORNAME: SPECIALINFO: VERSION: CREDITS: Remarks:".split(" ");for(l=0;l<h.length;l++){var m=h[l];if(f.match("^"+m)==m){l=m;break e}}l=null}l?(s&&u&&(i[s]=u,u=null),s=l.substring(0,l.length-1).toLowerCase()):(c=c.trim()).length&&s&&(u||(u=[]),u.push(c))}}s&&u&&(i[s]=u),e=[],!i.title||"modulename"in i||e.push(i.title.shift()+" ("+i.prefix+")");for(;3>=e.length;)if("modulename"in i)e.push(i.modulename.shift()),delete i.modulename;else if("authorname"in i)e.push(i.authorname.shift()),delete i.authorname;else if("specialinfo"in i)e.push(i.specialinfo.shift()),delete i.specialinfo;else if("version"in i)e.push(i.version.shift()),0==i.version.length&&delete i.version;else if("credits"in i)e.push(i.credits.shift()),0==i.credits.length&&delete i.credits;else{if(!("remarks"in i))break;e.push(i.remarks.shift()),0==i.remarks.length&&delete i.remarks}return i=1<e.length?e[1]:"",o=2<e.length?e[2]:"",(s={}).info1=0<e.length?e[0]:"",s.info2=i,s.info3=o,s.mins=t,s.maxs=n,s.curs=r,s.infoText=a,window.ScriptNodePlayer.getInstance()._songUpdateCallback(s)},_ems_request_file:function(e){var t=window.ScriptNodePlayer.getInstance();if(t.isReady())return t._fileRequestCallback(e);window.console.log("error: ems_request_file not ready")},_ems_request_file_size:function(e){return window.ScriptNodePlayer.getInstance()._fileSizeRequestCallback(e)},_emscripten_memcpy_big:function(e,t,n){return B.set(B.subarray(t,t+n),e),e},_emscripten_run_script:function(a){eval(D(a))},_exit:function(e){Cc(),d.noExitRuntime?r("exit("+e+") called, but EXIT_RUNTIME is not set, so halting execution but not exiting the runtime or preventing further async execution (build with EXIT_RUNTIME=1, if you want a true shutdown)"):(wa=!0,Pa=Dc,Ra(),Ta(Xa),G=!0,d.onExit&&d.onExit(e)),d.quit(e,new ia(e))},_llvm_exp2_f64:function(){return uc.apply(null,arguments)},_llvm_log10_f64:function(){return vc.apply(null,arguments)},_llvm_stackrestore:function(e){var t=wc.A[e];wc.A.splice(e,1),la(t)},_llvm_stacksave:wc,_localtime:function(e){xc(),e=new Date(1e3*y[e>>2]),y[Y>>2]=e.getSeconds(),y[Y+4>>2]=e.getMinutes(),y[Y+8>>2]=e.getHours(),y[Y+12>>2]=e.getDate(),y[Y+16>>2]=e.getMonth(),y[Y+20>>2]=e.getFullYear()-1900,y[Y+24>>2]=e.getDay();var t=new Date(e.getFullYear(),0,1);y[Y+28>>2]=(e.getTime()-t.getTime())/864e5|0,y[Y+36>>2]=-60*e.getTimezoneOffset();var n=new Date(2e3,6,1).getTimezoneOffset();return e=0|(n!=(t=t.getTimezoneOffset())&&e.getTimezoneOffset()==Math.min(t,n)),y[Y+32>>2]=e,e=y[Bc()+(e?4:0)>>2],y[Y+40>>2]=e,Y},DYNAMICTOP_PTR:w,STACKTOP:Pa,STACK_MAX:F};var Z=d.asm(d.Ba,d.Ca,buffer),Ec=Z.__GLOBAL__sub_I_Adapter_cpp;Z.__GLOBAL__sub_I_Adapter_cpp=function(){return assert(C,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),assert(!G,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),Ec.apply(null,arguments)};var Fc=Z.___cxa_can_catch;Z.___cxa_can_catch=function(){return assert(C,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),assert(!G,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),Fc.apply(null,arguments)};var Gc=Z.___cxa_is_pointer_type;Z.___cxa_is_pointer_type=function(){return assert(C,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),assert(!G,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),Gc.apply(null,arguments)};var Hc=Z.___emscripten_environ_constructor;Z.___emscripten_environ_constructor=function(){return assert(C,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),assert(!G,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),Hc.apply(null,arguments)};var Ic=Z.___errno_location;Z.___errno_location=function(){return assert(C,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),assert(!G,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),Ic.apply(null,arguments)};var Jc=Z.__get_daylight;Z.__get_daylight=function(){return assert(C,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),assert(!G,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),Jc.apply(null,arguments)};var Kc=Z.__get_timezone;Z.__get_timezone=function(){return assert(C,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),assert(!G,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),Kc.apply(null,arguments)};var Lc=Z.__get_tzname;Z.__get_tzname=function(){return assert(C,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),assert(!G,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),Lc.apply(null,arguments)};var Mc=Z._emu_compute_audio_samples;Z._emu_compute_audio_samples=function(){return assert(C,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),assert(!G,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),Mc.apply(null,arguments)};var Nc=Z._emu_get_audio_buffer;Z._emu_get_audio_buffer=function(){return assert(C,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),assert(!G,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),Nc.apply(null,arguments)};var Oc=Z._emu_get_audio_buffer_length;Z._emu_get_audio_buffer_length=function(){return assert(C,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),assert(!G,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),Oc.apply(null,arguments)};var Pc=Z._emu_get_trace_streams;Z._emu_get_trace_streams=function(){return assert(C,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),assert(!G,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),Pc.apply(null,arguments)};var Qc=Z._emu_load_file;Z._emu_load_file=function(){return assert(C,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),assert(!G,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),Qc.apply(null,arguments)};var Rc=Z._emu_number_trace_streams;Z._emu_number_trace_streams=function(){return assert(C,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),assert(!G,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),Rc.apply(null,arguments)};var Sc=Z._emu_prepare;Z._emu_prepare=function(){return assert(C,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),assert(!G,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),Sc.apply(null,arguments)};var Tc=Z._emu_set_panning;Z._emu_set_panning=function(){return assert(C,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),assert(!G,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),Tc.apply(null,arguments)};var Uc=Z._emu_set_subsong;Z._emu_set_subsong=function(){return assert(C,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),assert(!G,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),Uc.apply(null,arguments)};var Vc=Z._emu_teardown;Z._emu_teardown=function(){return assert(C,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),assert(!G,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),Vc.apply(null,arguments)};var Wc=Z._fflush;Z._fflush=function(){return assert(C,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),assert(!G,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),Wc.apply(null,arguments)};var Xc=Z._free;Z._free=function(){return assert(C,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),assert(!G,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),Xc.apply(null,arguments)};var Yc=Z._llvm_bswap_i16;Z._llvm_bswap_i16=function(){return assert(C,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),assert(!G,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),Yc.apply(null,arguments)};var Zc=Z._llvm_bswap_i32;Z._llvm_bswap_i32=function(){return assert(C,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),assert(!G,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),Zc.apply(null,arguments)};var $c=Z._malloc;Z._malloc=function(){return assert(C,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),assert(!G,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),$c.apply(null,arguments)};var ad=Z._putchar;Z._putchar=function(){return assert(C,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),assert(!G,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),ad.apply(null,arguments)};var bd=Z._sbrk;Z._sbrk=function(){return assert(C,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),assert(!G,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),bd.apply(null,arguments)};var cd=Z.establishStackSpace;Z.establishStackSpace=function(){return assert(C,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),assert(!G,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),cd.apply(null,arguments)};var dd=Z.getTempRet0;Z.getTempRet0=function(){return assert(C,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),assert(!G,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),dd.apply(null,arguments)};var ed=Z.setTempRet0;Z.setTempRet0=function(){return assert(C,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),assert(!G,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),ed.apply(null,arguments)};var fd=Z.setThrew;Z.setThrew=function(){return assert(C,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),assert(!G,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),fd.apply(null,arguments)};var gd=Z.stackAlloc;Z.stackAlloc=function(){return assert(C,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),assert(!G,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),gd.apply(null,arguments)};var hd=Z.stackRestore;Z.stackRestore=function(){return assert(C,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),assert(!G,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),hd.apply(null,arguments)};var id=Z.stackSave;Z.stackSave=function(){return assert(C,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),assert(!G,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),id.apply(null,arguments)},d.asm=Z;var hb=d.__GLOBAL__sub_I_Adapter_cpp=function(){return assert(C,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),assert(!G,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),d.asm.__GLOBAL__sub_I_Adapter_cpp.apply(null,arguments)};d.___cxa_can_catch=function(){return assert(C,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),assert(!G,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),d.asm.___cxa_can_catch.apply(null,arguments)},d.___cxa_is_pointer_type=function(){return assert(C,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),assert(!G,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),d.asm.___cxa_is_pointer_type.apply(null,arguments)};var ib=d.___emscripten_environ_constructor=function(){return assert(C,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),assert(!G,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),d.asm.___emscripten_environ_constructor.apply(null,arguments)};d.___errno_location=function(){return assert(C,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),assert(!G,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),d.asm.___errno_location.apply(null,arguments)};var Ac=d.__get_daylight=function(){return assert(C,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),assert(!G,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),d.asm.__get_daylight.apply(null,arguments)},zc=d.__get_timezone=function(){return assert(C,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),assert(!G,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),d.asm.__get_timezone.apply(null,arguments)},Bc=d.__get_tzname=function(){return assert(C,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),assert(!G,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),d.asm.__get_tzname.apply(null,arguments)};d._emu_compute_audio_samples=function(){return assert(C,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),assert(!G,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),d.asm._emu_compute_audio_samples.apply(null,arguments)},d._emu_get_audio_buffer=function(){return assert(C,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),assert(!G,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),d.asm._emu_get_audio_buffer.apply(null,arguments)},d._emu_get_audio_buffer_length=function(){return assert(C,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),assert(!G,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),d.asm._emu_get_audio_buffer_length.apply(null,arguments)},d._emu_get_trace_streams=function(){return assert(C,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),assert(!G,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),d.asm._emu_get_trace_streams.apply(null,arguments)},d._emu_load_file=function(){return assert(C,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),assert(!G,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),d.asm._emu_load_file.apply(null,arguments)},d._emu_number_trace_streams=function(){return assert(C,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),assert(!G,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),d.asm._emu_number_trace_streams.apply(null,arguments)},d._emu_prepare=function(){return assert(C,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),assert(!G,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),d.asm._emu_prepare.apply(null,arguments)},d._emu_set_panning=function(){return assert(C,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),assert(!G,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),d.asm._emu_set_panning.apply(null,arguments)},d._emu_set_subsong=function(){return assert(C,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),assert(!G,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),d.asm._emu_set_subsong.apply(null,arguments)},d._emu_teardown=function(){return assert(C,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),assert(!G,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),d.asm._emu_teardown.apply(null,arguments)},d._fflush=function(){return assert(C,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),assert(!G,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),d.asm._fflush.apply(null,arguments)},d._free=function(){return assert(C,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),assert(!G,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),d.asm._free.apply(null,arguments)},d._llvm_bswap_i16=function(){return assert(C,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),assert(!G,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),d.asm._llvm_bswap_i16.apply(null,arguments)},d._llvm_bswap_i32=function(){return assert(C,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),assert(!G,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),d.asm._llvm_bswap_i32.apply(null,arguments)};var Ba=d._malloc=function(){return assert(C,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),assert(!G,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),d.asm._malloc.apply(null,arguments)};d._putchar=function(){return assert(C,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),assert(!G,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),d.asm._putchar.apply(null,arguments)},d._sbrk=function(){return assert(C,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),assert(!G,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),d.asm._sbrk.apply(null,arguments)},d.establishStackSpace=function(){return assert(C,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),assert(!G,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),d.asm.establishStackSpace.apply(null,arguments)},d.getTempRet0=function(){return assert(C,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),assert(!G,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),d.asm.getTempRet0.apply(null,arguments)},d.setTempRet0=function(){return assert(C,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),assert(!G,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),d.asm.setTempRet0.apply(null,arguments)},d.setThrew=function(){return assert(C,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),assert(!G,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),d.asm.setThrew.apply(null,arguments)};var ma=d.stackAlloc=function(){return assert(C,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),assert(!G,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),d.asm.stackAlloc.apply(null,arguments)},la=d.stackRestore=function(){return assert(C,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),assert(!G,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),d.asm.stackRestore.apply(null,arguments)},ka=d.stackSave=function(){return assert(C,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),assert(!G,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),d.asm.stackSave.apply(null,arguments)},Dc;function ia(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}function kd(){function e(){if(!d.calledRun&&(d.calledRun=!0,!wa)){if(Ra(),C||(C=!0,Ta(Va)),Ra(),Ta(Wa),d.onRuntimeInitialized&&d.onRuntimeInitialized(),assert(!d._main,'compiled without a main, but one is present. if you added it from JS, use Module["onRuntimeInitialized"]'),Ra(),d.postRun)for("function"==typeof d.postRun&&(d.postRun=[d.postRun]);d.postRun.length;){var e=d.postRun.shift();Ya.unshift(e)}Ta(Ya)}}if(!(0<$a)){if(assert(0==(3&F)),Ja[(F>>2)-1]=34821223,Ja[(F>>2)-2]=2310721022,d.preRun)for("function"==typeof d.preRun&&(d.preRun=[d.preRun]);d.preRun.length;)Za();Ta(Ua),0<$a||d.calledRun||(d.setStatus?(d.setStatus("Running..."),setTimeout((function(){setTimeout((function(){d.setStatus("")}),1),e()}),1)):e(),Ra())}}function Cc(){var e=ja,t=r,n=!1;ja=r=function(){n=!0};try{var a=d._fflush;a&&a(0),["stdout","stderr"].forEach((function(e){e="/dev/"+e;try{var t=R(e,{H:!0});e=t.path}catch(e){}var r={Ia:!1,exists:!1,error:0,name:null,path:null,object:null,Ka:!1,Ma:null,La:null};try{t=R(e,{parent:!0}),r.Ka=!0,r.Ma=t.path,r.La=t.node,r.name=qb(e),t=R(e,{H:!0}),r.exists=!0,r.path=t.path,r.object=t.node,r.name=t.node.name,r.Ia="/"===t.path}catch(e){r.error=e.j}r&&(t=tb[r.object.rdev])&&t.output&&t.output.length&&(n=!0)}))}catch(e){}ja=e,r=t,n&&sa("stdio streams had content in them that was not flushed. you should set EXIT_RUNTIME to 1 (see the FAQ), or make sure to emit a newline when you printf etc.")}d.dynCall_v=function(){return assert(C,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),assert(!G,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),d.asm.dynCall_v.apply(null,arguments)},d.dynCall_vi=function(){return assert(C,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),assert(!G,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),d.asm.dynCall_vi.apply(null,arguments)},d.asm=Z,d.intArrayFromString||(d.intArrayFromString=function(){q("'intArrayFromString' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),d.intArrayToString||(d.intArrayToString=function(){q("'intArrayToString' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),d.ccall=function(e,t,n,r){var a=d["_"+e];assert(a,"Cannot call unknown function "+e+", make sure it is exported");var i=[];if(e=0,assert("array"!==t,'Return type should not be "array".'),r)for(var o=0;o<r.length;o++){var s=za[n[o]];s?(0===e&&(e=ka()),i[o]=s(r[o])):i[o]=r[o]}return n=a.apply(null,i),n="string"===t?D(n):"boolean"===t?!!n:n,0!==e&&la(e),n},d.cwrap||(d.cwrap=function(){q("'cwrap' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),d.setValue||(d.setValue=function(){q("'setValue' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),d.getValue=function(e,t){switch("*"===(t=t||"i8").charAt(t.length-1)&&(t="i32"),t){case"i1":case"i8":return A[e>>0];case"i16":return Ia[e>>1];case"i32":case"i64":return y[e>>2];case"float":return Ka[e>>2];case"double":return La[e>>3];default:q("invalid type for getValue: "+t)}return null},d.allocate||(d.allocate=function(){q("'allocate' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),d.getMemory=Ca,d.Pointer_stringify=D,d.AsciiToString||(d.AsciiToString=function(){q("'AsciiToString' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),d.stringToAscii||(d.stringToAscii=function(){q("'stringToAscii' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),d.UTF8ArrayToString||(d.UTF8ArrayToString=function(){q("'UTF8ArrayToString' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),d.UTF8ToString=Da,d.stringToUTF8Array||(d.stringToUTF8Array=function(){q("'stringToUTF8Array' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),d.stringToUTF8||(d.stringToUTF8=function(){q("'stringToUTF8' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),d.lengthBytesUTF8||(d.lengthBytesUTF8=function(){q("'lengthBytesUTF8' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),d.UTF16ToString||(d.UTF16ToString=function(){q("'UTF16ToString' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),d.stringToUTF16||(d.stringToUTF16=function(){q("'stringToUTF16' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),d.lengthBytesUTF16||(d.lengthBytesUTF16=function(){q("'lengthBytesUTF16' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),d.UTF32ToString||(d.UTF32ToString=function(){q("'UTF32ToString' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),d.stringToUTF32||(d.stringToUTF32=function(){q("'stringToUTF32' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),d.lengthBytesUTF32||(d.lengthBytesUTF32=function(){q("'lengthBytesUTF32' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),d.allocateUTF8||(d.allocateUTF8=function(){q("'allocateUTF8' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),d.stackTrace||(d.stackTrace=function(){q("'stackTrace' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),d.addOnPreRun||(d.addOnPreRun=function(){q("'addOnPreRun' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),d.addOnInit||(d.addOnInit=function(){q("'addOnInit' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),d.addOnPreMain||(d.addOnPreMain=function(){q("'addOnPreMain' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),d.addOnExit||(d.addOnExit=function(){q("'addOnExit' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),d.addOnPostRun||(d.addOnPostRun=function(){q("'addOnPostRun' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),d.writeStringToMemory||(d.writeStringToMemory=function(){q("'writeStringToMemory' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),d.writeArrayToMemory||(d.writeArrayToMemory=function(){q("'writeArrayToMemory' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),d.writeAsciiToMemory||(d.writeAsciiToMemory=function(){q("'writeAsciiToMemory' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),d.addRunDependency=eb,d.removeRunDependency=fb,d.ENV||(d.ENV=function(){q("'ENV' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),d.FS||(d.FS=function(){q("'FS' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),d.FS_createFolder=kc,d.FS_createPath=lc,d.FS_createDataFile=nc,d.FS_createPreloadedFile=rc,d.FS_createLazyFile=qc,d.FS_createLink=oc,d.FS_createDevice=U,d.FS_unlink=$b,d.GL||(d.GL=function(){q("'GL' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),d.staticAlloc||(d.staticAlloc=function(){q("'staticAlloc' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),d.dynamicAlloc||(d.dynamicAlloc=function(){q("'dynamicAlloc' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),d.warnOnce||(d.warnOnce=function(){q("'warnOnce' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),d.loadDynamicLibrary||(d.loadDynamicLibrary=function(){q("'loadDynamicLibrary' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),d.loadWebAssemblyModule||(d.loadWebAssemblyModule=function(){q("'loadWebAssemblyModule' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),d.getLEB||(d.getLEB=function(){q("'getLEB' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),d.getFunctionTables||(d.getFunctionTables=function(){q("'getFunctionTables' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),d.alignFunctionTables||(d.alignFunctionTables=function(){q("'alignFunctionTables' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),d.registerFunctions||(d.registerFunctions=function(){q("'registerFunctions' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),d.addFunction||(d.addFunction=function(){q("'addFunction' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),d.removeFunction||(d.removeFunction=function(){q("'removeFunction' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),d.getFuncWrapper||(d.getFuncWrapper=function(){q("'getFuncWrapper' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),d.prettyPrint||(d.prettyPrint=function(){q("'prettyPrint' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),d.makeBigInt||(d.makeBigInt=function(){q("'makeBigInt' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),d.dynCall||(d.dynCall=function(){q("'dynCall' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),d.getCompilerSetting||(d.getCompilerSetting=function(){q("'getCompilerSetting' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),d.stackSave||(d.stackSave=function(){q("'stackSave' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),d.stackRestore||(d.stackRestore=function(){q("'stackRestore' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),d.stackAlloc||(d.stackAlloc=function(){q("'stackAlloc' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),d.establishStackSpace||(d.establishStackSpace=function(){q("'establishStackSpace' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),d.print||(d.print=function(){q("'print' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),d.printErr||(d.printErr=function(){q("'printErr' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),d.ALLOC_NORMAL||Object.defineProperty(d,"ALLOC_NORMAL",{get:function(){q("'ALLOC_NORMAL' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}}),d.ALLOC_STACK||Object.defineProperty(d,"ALLOC_STACK",{get:function(){q("'ALLOC_STACK' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}}),d.ALLOC_STATIC||Object.defineProperty(d,"ALLOC_STATIC",{get:function(){q("'ALLOC_STATIC' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}}),d.ALLOC_DYNAMIC||Object.defineProperty(d,"ALLOC_DYNAMIC",{get:function(){q("'ALLOC_DYNAMIC' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}}),d.ALLOC_NONE||Object.defineProperty(d,"ALLOC_NONE",{get:function(){q("'ALLOC_NONE' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}}),ia.prototype=Error(),ia.prototype.constructor=ia,bb=function e(){d.calledRun||kd(),d.calledRun||(bb=e)},d.run=kd;var ld=[];function q(e){d.onAbort&&d.onAbort(e),void 0!==e?(ja(e),r(e),e=JSON.stringify(e)):e="",wa=!0;var t="abort("+e+") at "+Ha();throw ld&&ld.forEach((function(n){t=n(t,e)})),t}if(d.abort=q,d.preInit)for("function"==typeof d.preInit&&(d.preInit=[d.preInit]);0<d.preInit.length;)d.preInit.pop()();return d.noExitRuntime=!0,kd(),{Module:Module}}(window.spp_backend_state_UADE);function _splitPath(e){let t=e.split("/"),n="";for(let e=0;e<t.length-1;e++)e>0&&(n+="/"),n+=t[e];return[n,t[t.length-1]]}class WantedTeamPatcher{constructor(e){this._fileMapper=e}mapToVirtualFilename(e){return[!1,e]}backend2web(e){let t=e.indexOf("WantedTeam.bin")>-1;return t&&(this._wantedOrig=e,e=this._fileMapper.basePathUADE+"/players/WantedTeam.bin"),[t,e]}web2backend(e){let t=e[1].indexOf("WantedTeam.bin")>-1;return t&&void 0!==this._wantedOrig&&(e=_splitPath(this._wantedOrig)),[t,e]}}class AmigaLibsPatcher{constructor(e){this._fileMapper=e,this._libMap={}}mapToVirtualFilename(e){return[!1,e]}backend2web(e){let t=e.endsWith(".library");if(t){let t=_splitPath(e);this._libMap[t[1]]=e,e=this._fileMapper.basePathUADE+"/system/"+t[1]}return[t,e]}web2backend(e){let t=e[1].endsWith(".library");if(t&&void 0!==this._libMap){let t=_splitPath(e[0]+"/"+e[1]),n=this._libMap[t[1]];void 0!==n&&(e=_splitPath(n))}return[t,e]}}class QartettST_Patcher{constructor(e){this._fileMapper=e}mapToVirtualFilename(e){return[!1,e]}backend2web(e){let t=e.indexOf("/SMP.")>-1;return t&&e.indexOf("/SMP.set")<0&&(e=e.replace("/SMP.","/")+".set"),[t,e]}web2backend(e){let t=e[1],n=t.endsWith(".set");return n&&(t.endsWith("smp.set")||t.endsWith("SMP.set")||(e[1]="SMP."+t.replace(".set",""))),[n,e]}}class ZoundPatcher{constructor(e){this._fileMapper=e,this._nameMap={}}mapToVirtualFilename(e){let t=!1;return e.endsWith(".sng")&&(e=e.replace(".sng",".zm"),t=!0),[t,e]}backend2web(e){let t=!1;if(e.indexOf("/Samples/")>-1){let n=e.substr(0,e.lastIndexOf("/"))+e.substr(e.lastIndexOf("/")).toLowerCase();n=n.replace("/Samples/","/../Samples/"),this._nameMap[n]=e,e=n,t=!0}return[t,e]}web2backend(e){let t=e[0]+"/"+e[1],n=this._nameMap[t],r=void 0!==n;return r&&(e=_splitPath(n)),[r,e]}}class AbstractPatcher{constructor(e){this._fileMapper=e,this._nameMap={},this._mapToVirtualCfg,this._backend2webCfg}mapToVirtualFilename(e){return this._patch(this._mapToVirtualCfg,e,!1)}backend2web(e){return this._patch(this._backend2webCfg,e,!0)}web2backend(e){let t=e[0]+"/"+e[1],n=this._nameMap[t];return void 0!==n&&(e=_splitPath(n)),[!1,e]}_patch(e,t,n){let r=!1;return e.every((e=>{let a=e[0],i=e[1];if(t.indexOf(a)>-1){let e=t.replace(a,i);n&&(this._nameMap[e]=t),t=e,r=!0}return!r})),[r,t]}}class OldMM8_Patcher extends AbstractPatcher{constructor(e){super(e),this._mapToVirtualCfg=[["/best of guitars.","/mm8.best of guitars."],["/moveback.","/mm4.moveback."]],this._backend2webCfg=[["mm8.",""],["mm4.",""]]}}class MCMD_Patcher extends AbstractPatcher{constructor(e){super(e),this._mapToVirtualCfg=[[".mcmd",".mcmd_org"]],this._backend2webCfg=[[".mcmd_org",".mcmd"]]}}class TFMX_ST_Patcher extends AbstractPatcher{constructor(e){super(e),this._mapToVirtualCfg=[["/mdat.","/mdst."]],this._backend2webCfg=[["/mdst.","/mdat."],["smpl.mdst.","smpl."]]}}class ModlandPatcher{constructor(e,t){this._fileMapper=e,this._originalFile=decodeURI(t),this._modlandMap={}}mapToVirtualFilename(e){return[!1,e]}backend2web(e){let t=(e=decodeURI(e)).replace(".adsc.AS",".adsc.as");t=t.replace("/SMP.","/smp."),t=t.replace(".SSD",".ssd"),t=t.replace(".INS",".ins"),t=t.replace("/mcS.","/mcs.");let n=this._originalFile.substr(this._originalFile.lastIndexOf("/")+1),r=t.substr(t.lastIndexOf("/")+1);if(this._originalFile.endsWith(".spm")&&t.indexOf("/SPS.")>0)t=t.replace("SPS.","").replace(".spm",".sps");else if(this._originalFile.endsWith(".soc")&&t.endsWith(".so"))t=t.substr(0,t.lastIndexOf("/"))+"/smp.set";else if(this._originalFile.endsWith(".pap")&&t.endsWith(".pa"))t=t.substr(0,t.lastIndexOf("/"))+"/smp.set";else if(this._originalFile.endsWith(".osp")&&t.endsWith(".os"))t=t.substr(0,t.lastIndexOf("/"))+"/smp.set";else if(n.startsWith("sdr.")&&r.startsWith("smp."))t=t.substr(0,t.lastIndexOf("/"))+"/smp.set";else if(this._originalFile.endsWith(".ymst")&&t.endsWith("replay")){let e=t.lastIndexOf("/"),n=t.substr(e).toLowerCase().replace(" ","_");t=t.substr(0,e)+n}return e!=t&&(this._modlandMap[t.replace(/^.*[\\\/]/,"")]=e.replace(/^.*[\\\/]/,"")),[!0,t]}web2backend(e){e=this._fileMapper.normalizePathFilename(e);let t=void 0!==this._modlandMap[e[1]];return t&&(e[1]=this._modlandMap[e[1]]),[t,e]}}class UadeFileMapper extends SimpleFileMapper{constructor(e,t,n){super(e),this.basePathUADE=t,this._modlandMode=void 0!==n?n:0,this._patchers=[]}init(e){this._patchers=[],this._patchers.push(new WantedTeamPatcher(this)),this._patchers.push(new AmigaLibsPatcher(this)),e.endsWith(".4v")&&this._patchers.push(new QartettST_Patcher(this)),e.indexOf("/Zoundmonitor/")>-1&&this._patchers.push(new ZoundPatcher(this)),(e.indexOf("/best of guitars.")>-1||e.indexOf("/moveback.")>-1)&&this._patchers.push(new OldMM8_Patcher(this)),e.indexOf("/MCMD/")>-1&&this._patchers.push(new MCMD_Patcher(this)),e.indexOf("/TFMX ST/")>-1&&this._patchers.push(new TFMX_ST_Patcher(this)),this._modlandMode&&this._patchers.push(new ModlandPatcher(this,e))}mapToVirtualFilename(e){e=super.mapToVirtualFilename(e),e=decodeURI(e);let t=!1;return this._patchers.every((n=>([t,e]=n.mapToVirtualFilename(e),!t))),e}registerFileData(e,t){let n=!1;return this._patchers.every((t=>([n,e]=t.web2backend(e),!n))),this._registerEmscriptenFileData(this.normalizePathFilename(e),t)}mapBackendFilename(e){let t=!1;return this._patchers.every((n=>([t,e]=n.backend2web(e),!t))),e}}class UADEBackendAdapter extends EmsHEAP16BackendAdapter{constructor(e,t,n,r){super(backend_UADE.Module,2,new UadeFileMapper(backend_UADE.Module,e,t),new HEAP16ScopeProvider(backend_UADE.Module,32768)),void 0===r&&(r=function(){}),this._onUpdateSongInfo=r,this.disableModConverter=void 0!==n?n:0,this._basePathUADE=e,this._sendUpdateNotifications=!0,this.ensureReadyNotification()}disableModConverter(e){this.disableModConverter=void 0!==e?e:0}loadMusicData(e,t,n,r,a){this._sendUpdateNotifications=!1,this.Module.ccall("emu_prepare","number",["string"],[this._basePathUADE]);let i=this.Module.ccall("emu_load_file","number",["number","string","string","number"],[e,t,n,this.disableModConverter]);if(0==i){let t=e;this.resetSampleRate(e,t)}return i}setPanning(e){if(!this.isAdapterReady())return;let t=Math.min(Math.max(-1,e),1);this.Module.ccall("emu_set_panning","number",["number"],[t])}evalTrackOptions(e){super.evalTrackOptions(e),void 0!==e.pan&&this.setPanning(e.pan);let t=void 0===e.track?-1:e.track,n=this.Module.ccall("emu_set_subsong","number",["number"],[t]);return this._sendUpdateNotifications=!0,n}_setDefaultSongAttributes(e){["info1","info2","info3","mins","maxs","curs","infoText","format","player"].forEach((t=>{e[t]=""}))}getSongInfoMeta(){return{info1:String,info2:String,info3:String,mins:String,maxs:String,curs:String,infoText:String,format:String,player:String}}updateSongInfo(e){0==Object.keys(this._songInfo).length&&this._setDefaultSongAttributes(this._songInfo)}getMaxPlaybackPosition(){return 0}getPlaybackPosition(){return 0}seekPlaybackPosition(e){}handleBackendSongAttributes(e){0==Object.keys(this._songInfo).length&&this._setDefaultSongAttributes(this._songInfo),Object.assign(this._songInfo,e),this._sendUpdateNotifications&&this._onUpdateSongInfo()}}